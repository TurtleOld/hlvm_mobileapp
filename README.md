# HLVM Mobile App

Мобильное приложение для управления личными финансами с возможностью сканирования чеков.

## Улучшения распознавания чеков

### Предобработка изображений
Приложение автоматически применяет предобработку изображений для улучшения качества распознавания:

1. **Удаление QR-кода** - автоматически удаляется нижняя часть чека с QR-кодом
2. **Улучшение контрастности** - применяются фильтры для лучшей читаемости текста
3. **Минимальная обрезка** - сохраняется максимальное количество информации из заголовка чека

### Рекомендации по фотографированию чеков

Для лучшего распознавания:

1. **Хорошее освещение** - избегайте теней и бликов
2. **Плоская поверхность** - разместите чек на ровной поверхности
3. **Четкий фокус** - убедитесь, что весь текст читаем
4. **Полный кадр** - включите весь чек в кадр
5. **Избегайте складок** - разгладьте чек перед фотографированием

### Поддерживаемые модели AI

Приложение использует несколько подходов для распознавания:

1. **GPT-4o** - основная модель для обработки изображений
2. **Claude-3-5-Sonnet** - альтернативная модель при сбоях
3. **Множественная предобработка** - тестирование разных методов обработки

### Обработка ошибок

Приложение автоматически:
- Исправляет некорректные даты
- Заполняет отсутствующие данные
- Валидирует числовые значения
- Обрабатывает различные форматы дат

## Структура проекта

```
lib/
├── core/               # Основные компоненты
│   ├── constants/      # Константы приложения
│   ├── services/       # Сервисы (безопасность, кеш, сессии)
│   ├── theme/          # Тема приложения
│   ├── utils/          # Утилиты
│   └── widgets/        # Общие виджеты
├── features/           # Функциональные модули
│   ├── auth/           # Аутентификация
│   ├── finance_account/ # Финансовые счета
│   └── receipts/       # Обработка чеков
├── models/             # Модели данных
├── services/           # API сервисы
└── shared/             # Общие компоненты
```

## Безопасность

Приложение включает несколько уровней защиты:

- **Session Fixation Protection** - защита от фиксации сессий
- **Secure Token Storage** - безопасное хранение токенов

## Экран загрузки

Приложение теперь показывает красивый экран загрузки с:

- Анимированным логотипом
- Индикатором прогресса
- Статусными сообщениями
- Плавными переходами

## Устранение неполадок

### Черный экран при запуске

Если приложение показывает черный экран:

1. Проверьте, что все зависимости установлены: `flutter pub get`
2. Очистите кеш: `flutter clean && flutter pub get`
3. Перезапустите приложение

### Ошибки API

Если возникают ошибки API:

1. Проверьте настройки в `lib/core/constants/app_constants.dart`
2. Убедитесь, что сервер доступен
3. Проверьте токены аутентификации

### Проблемы с распознаванием чеков

Если чек распознается некорректно:

1. Улучшите качество фотографии
2. Убедитесь в хорошем освещении
3. Проверьте, что весь чек виден в кадре
4. Попробуйте перефотографировать чек
